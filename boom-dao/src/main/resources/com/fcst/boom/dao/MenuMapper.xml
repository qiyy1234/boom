<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.fcst.boom.dao.MenuDao" >
  
  	<select id="getAllMenuList" resultType="com.fcst.boom.domain.Menu" >
		SELECT 
			a.id,
			a.parent_id AS "parent.id",
			a.parent_ids,
			a.name,
			a.href,
			a.target,
			a.icon,
			a.sort,
			a.is_show,
			a.permission,
			a.remarks,
			a.create_by AS "createBy.id",
			a.create_date,
			a.update_by AS "updateBy.id",
			a.update_date,
			a.del_flag,
			p.name AS "parent.name",
      d.dict_name dictName
		FROM sys_menu a LEFT JOIN sys_menu  p ON p.id = a.parent_id 
                        LEFT JOIN sys_dictionary d ON  a.is_show = d.dict_value and  d.dict_type = 'status'
		ORDER BY a.sort
	</select>
	
	
		
</mapper>
